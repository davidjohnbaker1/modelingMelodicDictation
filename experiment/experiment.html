<!DOCTYPE html>
<html>
  <head>
    <script src="plugins/jspsych.js"></script>
    <script src="plugins/jspsych-survey-likert.js"></script>
    <script src="plugins/jspsych-audio-button-response.js"></script>
    <script src="plugins/jspsych-instructions.js"></script>
    <script src="plugins/jspsych-survey-text.js"></script>

    <link rel="stylesheet" href="css/jspsych.css"></link>
  </head>
  <body></body>
  <script>

// Scales Needed

var scale = ["Strongly Disagree", "Disagree", "Neutral", "Agree", "Strongly Agree"];

var baisScaleV = ["<p>1</p>No Image Present at All<p>", "", "", "<p>4</p><p>Fairly Vivid</p>","","","<p>7</p><p>As Vivid As The Actual Sound</p>"]

var baisScaleC = ["<p>1</p>No Image Present at All</p>", "","","<p>4</p>Could Change the Image but With Effort</p>","","","<p>7</p><p>Extremely Easy to Change the Image</p>"]

// Preloading

var audiopaths = [	 	
			// Place Holders
	

			// Experiment 1 

			'sound/E1MB9.mp3',
			'sound/E1MB95.mp3',
			'sound/E1MB34.mp3',
			'sound/E1MB112.mp3',

			// Melodies

			'sound/mp3/yankee.mp3',

			// Silences	

			'sound/mp3/fiveSecondSilence.wav',
			'sound/mp3/tenSecondSilence.wav',
			'sound/mp3/twentySecondSilence.wav',

			// Triangles

			'sound/mp3/DoubleTriangle.mp3',
			'sound/mp3/Triangle.mp3'

		];

// Timeline Loop

var timeline = [];

/// Subject ID


var subject_id = prompt("Enter Participant Number");
        jsPsych.data.addProperties({
                          subject: subject_id,
                });

//////////////////////////////////////////////////
// Welcome, Consent Form, Materials Check 
/////////////////////////////////////////////////
</script>
<script src="instructions.js"></script>

<script>

</script>
<script src="mainloop.js"></script>

<script>
// Add in thing here about break and now going to fill out demographics

// Deomographics GET AGE, SEX,THINGS LIKE THAT
/// Aural Skills
///// Make sure to have recency item

/// Aural Skills Questions
/// ADD RECENCEY ITEM
</script>
<script src="auralquestions.js"></script>
<script>



/// Bucknell Auditory Imagery Scale
</script>
<script src="bais.js"></script>
<script>

// TELL THEM THEY NOW HAVE TO GO TO GOLDSMIHS!

// SAVE FUNCTION

function saveData(name, data){
  var xhr = new XMLHttpRequest();
  xhr.open('POST', 'write_data.php'); // 'write_data.php' is the path to the php file described above.
  xhr.setRequestHeader('Content-Type', 'application/json');
  xhr.send(JSON.stringify({filename: name, filedata: data}));
}

// Thanks for all your help!!  

  jsPsych.init({
    timeline: timeline,
    preload_audio: audiopaths,
    on_finish: function(){ jsPsych.data.get().localSave('csv', subject_id + '.csv');}  

});

  </script>
</html>
